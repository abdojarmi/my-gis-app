<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>نظام المعلومات الجغرافية لجماعة العطاوية</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body { margin: 0; font-family: Arial, sans-serif; }
        #map { height: 100vh; width: calc(100vw - 220px); /* عرض الخريطة يقل بمقدار عرض الشريط الجانبي */ float: left; } /* تجعل الخريطة تطفو إلى اليسار */
        #sidebar {
            position: absolute; top: 0; right: 0; background: white;
            width: 200px; height: 100vh; padding: 10px;
            border-left: 2px solid #ccc; box-shadow: -2px 0 10px rgba(0,0,0,0.3);
            z-index: 1000; /* تأكد من ظهور الشريط الجانبي فوق الرسالة */
        }
        #messageBox {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: #f0f0f0; padding: 20px; border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.3); text-align: center;
            z-index: 1001; /* تأكد من ظهور الرسالة فوق الخريطة */
        }
        #messageBox button { margin-top: 10px; }
        #printBtn {
            position: absolute; bottom: 10px; left: 10px;
            padding: 10px; background: #007bff; color: white;
            border: none; border-radius: 5px; cursor: pointer;
            z-index: 1000;
            font-size: 16px; /* حجم الأيقونة */
        }
        #printBtn i {
            margin-right: 5px; /* مسافة بين الأيقونة والنص (إذا أردت نصًا) */
        }
        h1 {
            text-align:center;
            font-weight:bold;
            font-size: 1.5em;
        }
        h3 {
            text-align:center;
            font-weight:normal;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div id="messageBox">
        <p>مرحبًا بكم في بوابة نظام المعلومات الجغرافية لجماعة العطاوية. هذا المشروع الأكاديمي هو جزء من رسالة الماستر للطالب عبدالواحد جيرمي تحت إشراف الأستاذ ميلود وشالة. في حالة وجود أي أخطاء في البيانات، يرجى التواصل معنا للإبلاغ عنها.</p>
        <button onclick="document.getElementById('messageBox').style.display='none'">OK</button>
    </div>
    <h1>نظام المعلومات الجغرافية لجماعة العطاوية</h1>
    <h3>مشروع أكاديمي</h3>
    <div id="map"></div>
    <div id="sidebar">
        <h4>الطبقات</h4>
        <ul id="layerList"></ul>
    </div>
    <button id="printBtn"><i class="fas fa-print"></i> طباعة الخريطة</button>

    <script>
        // Initialize map
        var map = L.map('map').setView([31.8333, -7.3333], 10); // [خط العرض, خط الطول], مستوى التكبير

        // Add tile layer (OpenStreetMap)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        document.getElementById('printBtn').addEventListener('click', function() {
            window.print();
        });
    </script>

    <script src="script.js"></script>
</body>
</html>
